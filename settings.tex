\PassOptionsToPackage{table,svgnames,dvipsnames}{xcolor}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[sc]{mathpazo}
\usepackage[ngerman,american]{babel}
\usepackage[autostyle]{csquotes}
\usepackage[%
  backend=biber,
  url=false,
  style=alphabetic,
  maxnames=4,
  minnames=3,
  maxbibnames=99,
  giveninits,
  uniquename=init]{biblatex} % TODO: adapt citation style
\usepackage{graphicx}
\usepackage{scrhack} % necessary for listings package
\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{booktabs}
\usepackage[final]{microtype}
\usepackage{caption}
\usepackage[hidelinks]{hyperref} % hidelinks removes colored boxes around references and links

\bibliography{bibliography}

\setkomafont{disposition}{\normalfont\bfseries} % use serif font for headings
\linespread{1.05} % adjust line spread for mathpazo font

% Add table of contents to PDF bookmarks
\BeforeTOCHead[toc]{{\cleardoublepage\pdfbookmark[0]{\contentsname}{toc}}}

% Define TUM corporate design colors
% Taken from http://portal.mytum.de/corporatedesign/index_print/vorlagen/index_farben
\definecolor{TUMBlue}{HTML}{0065BD}
\definecolor{TUMSecondaryBlue}{HTML}{005293}
\definecolor{TUMSecondaryBlue2}{HTML}{003359}
\definecolor{TUMBlack}{HTML}{000000}
\definecolor{TUMWhite}{HTML}{FFFFFF}
\definecolor{TUMDarkGray}{HTML}{333333}
\definecolor{TUMGray}{HTML}{808080}
\definecolor{TUMLightGray}{HTML}{CCCCC6}
\definecolor{TUMAccentGray}{HTML}{DAD7CB}
\definecolor{TUMAccentOrange}{HTML}{E37222}
\definecolor{TUMAccentGreen}{HTML}{A2AD00}
\definecolor{TUMAccentLightBlue}{HTML}{98C6EA}
\definecolor{TUMAccentBlue}{HTML}{64A0C8}

% Settings for pgfplots
\pgfplotsset{compat=newest}
\pgfplotsset{
  % For available color names, see http://www.latextemplates.com/svgnames-colors
  cycle list={TUMBlue\\TUMAccentOrange\\TUMAccentGreen\\TUMSecondaryBlue2\\TUMDarkGray\\},
}

% Settings for lstlistings
\lstset{%
  basicstyle=\ttfamily,
  columns=fullflexible,
  autogobble,
  keywordstyle=\bfseries\color{TUMBlue},
  stringstyle=\color{TUMAccentGreen}
}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}

% writing functions in math expressions
\usepackage{amsmath}
\let\div\relax
\DeclareMathOperator{\div}{div}

\DeclareMathOperator{\nodes}{nodes}
\DeclareMathOperator{\height}{height}
\DeclareMathOperator{\length}{length}
\DeclareMathOperator{\drop}{drop}
\DeclareMathOperator{\take}{take}
\DeclareMathOperator{\bal}{bal}
\DeclareMathOperator{\order}{order}
\DeclareMathOperator{\sorted}{sorted}
\DeclareMathOperator{\inorder}{inorder}
\DeclareMathOperator{\btree}{btree}

\DeclareMathOperator{\separators}{separators}
\DeclareMathOperator{\subtrees}{subtrees}

\DeclareMathOperator{\rootorder}{order^r}
\DeclareMathOperator{\fullnode}{full\_node}
\DeclareMathOperator{\fulltree}{full\_tree}
\DeclareMathOperator{\slimnode}{slim\_node}
\DeclareMathOperator{\slimtree}{slim\_tree}
\DeclareMathOperator{\splitfun}{split}
\DeclareMathOperator{\splitmax}{split\_max}

\DeclareMathOperator{\emptyfun}{empty}
\DeclareMathOperator{\isinfun}{isin}
\DeclareMathOperator{\node}{node}
\DeclareMathOperator{\tree}{tree}
\DeclareMathOperator{\heightup}{height\_up}
\DeclareMathOperator{\insfun}{ins}
\DeclareMathOperator{\insertfun}{insert}
\DeclareMathOperator{\inslist}{ins_{list}}
\DeclareMathOperator{\dellist}{del_{list}}
\DeclareMathOperator{\deletefun}{delete}
\DeclareMathOperator{\setfun}{set}

\DeclareMathOperator{\pfarraycap}{is\_pfa}
\DeclareMathOperator{\pfadrop}{pfa\_drop}
\DeclareMathOperator{\pfashrink}{pfa\_shrink}
\DeclareMathOperator{\splitrelation}{split\_relation}
\DeclareMathOperator{\blistassn}{blist\_assn}
\DeclareMathOperator{\btreeassn}{btree\_assn}
\DeclareMathOperator{\impsplit}{imp\_split}
\DeclareMathOperator{\binsplit}{bin\_split}
\DeclareMathOperator{\linsplit}{lin\_split}

\DeclareMathOperator{\rebalancemt}{rebalance\_middle\_tree}

% TODO highlighting functions in isabelle code
\lstset{emph={%
% system internals
    take,%
    drop,%
    fold,%
    div,%
    set,%
    max,%
    map,%
    concat,%
    replicate,%
% basic defs
    subtrees,%
    separators,%
    height,%
    length,%
    node,%
    nodes,%
    inorder,%
    inorder\_pair,%
    inorder\_list,%
    order,%
    sorted,%
    bal,%
% height
    full\_node,%
    full\_tree,%
    slim\_node,%
    slim\_tree,%
% set ops
    linear_split,%
    linear_split_help,%
    split,%
    split\_half,%
    isin,%
    ins,%
    insert,%
    tree,%
    del,%
    delete,%
    rebalance\_middle\_tree,%
    rebalance\_last\_tree,%
    split\_max,%
},emphstyle={\upshape}
}


% for figures containing \circ
\DeclareUnicodeCharacter{FFEE}{\ensuremath{\circ}}